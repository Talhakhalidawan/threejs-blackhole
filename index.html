<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hello!</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css">
    
    <!-- import the webpage's javascript file -->
    <script src="https://threejs.org/build/three.js"></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stats.js/r16/Stats.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.3/dat.gui.min.js"></script>
    <script src="/script.js" defer></script>
  </head>  
  <body>
    
    <script type="x-shader/x-vertex" id="vertexShader">  
      uniform float time;
      uniform vec2 resolution;
      void main()	{
        gl_Position = vec4( position, 1.0 );
      }

    </script>

    <script type="x-shader/x-fragment" id="fragmentShader">
    
  
uniform float time;
uniform vec2 resolution;

uniform sampler2D bg_texture;
vec2 tex_coord = sphere_map(surface_point);
tex_coord.x = mod(tex_coord.x + rot_phase, 1.0);



// Frame to draw on
vec2 squareFrame(vec2 screenSize)
{
  vec2 position = 2.0 * (gl_FragCoord.xy / screenSize.xy) - 1.0;
  position.x *= screenSize.x / screenSize.y;
  return position;
}

vec2 sphere_map(vec3 p){
  return vec2(atan(p.x,p.y)/M_PI*0.5+0.5, asin(p.z)/M_PI+0.5);
}

// Ray represents a ray of light's origin and direction
struct Ray {
  vec3 origin; // Origin
  vec3 direction; // Direction
};


void main()	{
  vec2 uv = squareFrame(resolution);
  vec3 pixelPos = vec3(uv, 0.);
  
  // The eye position in this example is fixed.
  vec3 eyePos = vec3(0, 0, -4); // Some distance in front of the screen

  // The ray for the raytrace - which is just intersectSphere in this tutorial
  vec3 rayDir = normalize(pixelPos - eyePos);
  
  gl_FragColor = texture2D(bg_texture, );
}

    </script>  
    
    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
    <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script src="https://button.glitch.me/button.js"></script>
  </body>
</html>
